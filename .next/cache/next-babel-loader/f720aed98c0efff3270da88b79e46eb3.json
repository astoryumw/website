{"ast":null,"code":"var __jsx = React.createElement;\nimport React from \"react\";\nimport { getInfo } from \"../lib/utilSearch\";\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: \"\"\n    };\n    this.state = {\n      length: 0\n    };\n  }\n\n  handleUpdate(evt) {\n    this.setState({\n      search: evt.target.value\n    });\n  }\n\n  async handleSearch(evt) {\n    const user = await getInfo(this.state.search);\n    console.log(user);\n    this.setState({\n      user: user.rank[0]\n    });\n  }\n\n  async componentDidMount() {\n    const url = \"http://35.194.72.130/api/length\";\n    const response = await fetch(url);\n    const data = await response.json(); // console.log(data.rows);\n    // this isn't defining anything\n\n    try {\n      this.setState({\n        length: data.size[0].rows\n      });\n    } catch (err) {}\n  }\n\n  render() {\n    return __jsx(\"div\", null, __jsx(\"h4\", {\n      className: \"text\"\n    }, \"Enter a name below to see the rank\"), __jsx(\"p\", null, __jsx(\"input\", {\n      type: \"text\",\n      value: this.state.search,\n      onChange: this.handleUpdate.bind(this)\n    })), __jsx(\"button\", {\n      className: \"button-style\",\n      onClick: this.handleSearch.bind(this)\n    }, \"Search\"), this.state.user ? __jsx(\"div\", null, __jsx(\"h4\", {\n      className: \"text\"\n    }, \" \", this.state.user.name, \", \", this.state.user.time, \" \"), __jsx(\"h4\", {\n      className: \"text\"\n    }, \" \", this.state.user.rank, \" out of \", this.state.length, \"! \")) : __jsx(\"p\", {\n      className: \"text\"\n    }, \"Note: If nothing shows up the name hasn't been added yet\"));\n  }\n\n}\n\nexport default Search;","map":null,"metadata":{},"sourceType":"module"}