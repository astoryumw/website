{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Layout from '../components/MyLayout.js'; //import { getTime } from '../lib/utils';\n\nimport Search from './search';\nimport App from \"../lib/App.js\";\nexport default class browsersTest extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      // names: [],\n      // times: [],\n      people: [],\n      loading: true\n    });\n  }\n\n  async componentDidMount() {\n    const url = \"http://35.194.72.130/api/list\";\n    const response = await fetch(url);\n    const data = await response.json();\n    console.log(data.times.length);\n    var newData = \"\";\n\n    for (var i = 0; i < data.times.length; i++) {\n      newData = i + 1 + \". \" + data.times[i].name + \" \" + data.times[i].time;\n      newData = newData.split('\\n').map(str => __jsx(\"p\", null, str));\n      this.setState(previousState => ({\n        people: [...previousState.people, newData]\n      }));\n      this.setState({\n        loading: false\n      });\n    }\n\n    console.log(this.state.people);\n  }\n\n  render() {\n    return __jsx(Layout, null, __jsx(\"div\", {\n      className: \"background\",\n      style: {\n        height: 575\n      }\n    }, __jsx(\"table\", {\n      align: \"left\"\n    }, __jsx(App, null), __jsx(Search, null)), __jsx(\"h1\", {\n      align: \"center\",\n      className: \"text\"\n    }, \"Best Times\"), __jsx(\"table\", {\n      align: \"center\",\n      className: \"tableForTimes\"\n    }, this.state.loading || !this.state.people ? __jsx(\"div\", {\n      className: \"text\"\n    }, \"There are not any times in the database. Record the first one!\") : __jsx(\"div\", {\n      className: \"text\"\n    }, this.state.people))));\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}